<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Project Face Mask Detection</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> Project Face Mask Detection
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="./search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#a-updatesrefreshes">a. Updates/Refreshes</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#b-project-process">b. Project Process</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#c-work-flow">c. Work Flow</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#d-ros-network">d. ROS Network</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#e-tradeoffs">e. Tradeoffs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#f-videos-of-working-model">f. Videos of Working Model</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#f-goals-process-and-results">f. Goals, Process and Results</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#project-layout">Project layout</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="about/">About</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="Neural_Network_Model/">Neural Network Model</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">Project Face Mask Detection</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Home</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/PraveenPaidi/Robotics_Deployment/edit/master/index.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="introduction">Introduction</h1>
<p>The main objective of this project is to detect the absence or presence of facemask using the OAK-D camera feed of turtlebot by deploying Neural Networks.</p>
<p>If the turtlebot camera detects a face without mask, it'll move towards the detected face. </p>
<h2 id="a-updatesrefreshes">a. Updates/Refreshes</h2>
<ol>
<li>We made our own Neural Network for the feature generation by taking current_frames from OAK-D camera.</li>
<li>From the custom NN model, We deployed model_weights to ROS node which does face mask recognition in real time by subscribing to real time data current_frame.</li>
<li>We used inbuilt software called MTCNN face detection algorithm for creation of the bounding box for faces which is also subscribing to real time data current_frame.</li>
<li>If the custom model is detecting face without maask, it publishes velocity to move towards that face by using Velocity subscriber Node.</li>
</ol>
<h2 id="b-project-process">b. Project Process</h2>
<ul>
<li><code>mkdocs new [dir-name]</code> - Create a new project.</li>
<li><code>mkdocs serve</code> - Start the live-reloading docs server.</li>
<li><code>mkdocs build</code> - Build the documentation site.</li>
<li><code>mkdocs -h</code> - Print help message and exit.</li>
</ul>
<h2 id="c-work-flow">c. Work Flow</h2>
<p><img alt="Home" src="img/Screenshot.png" /></p>
<ul>
<li>
<p>Initially we collected dataset consisting of huge variations i.e 
Face with mask and Without Mask at different distances from OAK-D camera at different backgrounds with multiple gestures being performed.</p>
</li>
<li>
<p><strong>Few Instances of preliminary dataset</strong></p>
</li>
<li><strong>With Face Mask</strong>  -  If the frame has frame consisting of face with mask</li>
</ul>
<p><img alt="H" src="img/Picture1.jpg" /><img alt="j" src="img/Picture2.jpg" /><img alt="I" src="img/Picture3.jpg" /><img alt="II" src="img/Picture4.jpg" /><img alt="I" src="img/Picture5.jpg" /><img alt="I" src="img/Picture8.jpg" /></p>
<ul>
<li><strong>Without Face Mask</strong> - If the frame has consisting of face without mask and some ambiguity cases of half frames and fully blurred faces.</li>
</ul>
<p><img alt="H" src="img/Picture12.jpg" /><img alt="j" src="img/Picture13.jpg" /><img alt="I" src="img/Picture14.jpg" /><img alt="II" src="img/Picture15.jpg" /><img alt="I" src="img/Picture17.jpg" /><img alt="I" src="img/Picture18.jpg" /></p>
<ul>
<li><strong>No recognizable face in Frame</strong> - If the frame has no recognizable face and some distant images which are very unclear.</li>
</ul>
<p><img alt="H" src="img/Picture31.jpg" /><img alt="j" src="img/Picture30.jpg" /><img alt="I" src="img/Picture24.jpg" /><img alt="II" src="img/Picture25.jpg" /><img alt="I" src="img/Picture27.jpg" /><img alt="I" src="img/Picture29.jpg" /></p>
<p>Then with the custom Neural Network we devloped, we generated feature maps which shows as following:</p>
<p><img src="./img/Picture34.png" alt="Image 1" width="300" height="300">
<img src="./img/Picture33.png" alt="Image 1" width="300" height="300">
<img src="./img/Picture35.png" alt="Image 1" width="300" height="300">
<img src="./img/Picture32.png" alt="Image 1" width="300" height="300"></p>
<p>Even in this zoomed in images, the amount of pixels covering pixels are very few and very difficult to classify the images based on mask from the limited data with high number of variations.</p>
<ul>
<li>Although training Acuuracy is good by optimizing the algorithm and increasing number of epochs, <strong>testing accuracy is not good with only 65%</strong>. If we perform real time detection with this, it would be highly inaccurate.</li>
</ul>
<p><img src="./img/Error.png" alt="Image 1" width="500" height="500"></p>
<ul>
<li>
<p>We updated the Training data with Face with and without mask at limited distance at proper light source with few gestures.</p>
</li>
<li>
<p><strong>Few Instances of preliminary dataset</strong></p>
</li>
<li><strong>With Face Mask</strong>  -  If the frame has frame consisting of face with mask</li>
</ul>
<p><img src="./img/wm1.jpg" alt="Image 1" width="200" height="200">
<img src="./img/wm2.jpg" alt="Image 1" width="200" height="200">
<img src="./img/wm3.jpg" alt="Image 1" width="200" height="200"></p>
<ul>
<li><strong>Without Face Mask</strong> - If the frame has consisting of face without mask and some ambiguity cases of half frames and fully blurred faces.</li>
</ul>
<p><img src="./img/w1.jpg" alt="Image 1" width="200" height="200">
<img src="./img/w2.jpg" alt="Image 1" width="200" height="200">
<img src="./img/w3.jpg" alt="Image 1" width="200" height="200"></p>
<ul>
<li><strong>No recognizable face in Frame</strong> - If the frame has no recognizable face and some distant images which are very unclear.</li>
</ul>
<p><img src="./img/n1.jpg" alt="Image 1" width="200" height="200">
<img src="./img/n2.jpg" alt="Image 1" width="200" height="200">
<img src="./img/n3.jpg" alt="Image 1" width="200" height="200"></p>
<ul>
<li>After Training on data, we got adequate accuracy in Training along with a <strong>good amount of testing accuracy of 89%</strong></li>
<li>we split the data into Training and Testing in 90% and 10% and Training accuracy as follows:</li>
<li>Training data Classification:
<img src="./img/Training_data.png" alt="Image 1" width="500" height="500"></li>
<li>
<p>Testing data Classification:
<img src="./img/Testing_data.png" alt="Image 1" width="500" height="500"></p>
</li>
<li>
<p>Training Accuracy:</p>
</li>
</ul>
<p><img src="./img/Final_accuracy.png" alt="Image 1" width="500" height="500"></p>
<h2 id="d-ros-network">d. ROS Network</h2>
<h2 id="e-tradeoffs">e. Tradeoffs</h2>
<p><strong>Main Challenges</strong><br />
1. Training time<br />
2. Accurate prediction of frames during Real time streaming  </p>
<h2 id="f-videos-of-working-model">f. Videos of Working Model</h2>
<p><strong>RealTime detection of Presence or Ansence of mask with absolute zero training of Person's face</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pe2afb0SzxE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

<h2 id="f-goals-process-and-results">f. Goals, Process and Results</h2>
<h2 id="project-layout">Project layout</h2>
<pre><code>mkdocs.yml    # The configuration file.
docs/
    index.md  # The documentation homepage.
    ...       # Other markdown pages, images and other files.
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="about/" class="btn btn-neutral float-right" title="About">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/PraveenPaidi/Robotics_Deployment" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
    
      <span><a href="about/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
      <script src="search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.4.2
Build Date UTC : 2023-05-03 09:35:05.397083+00:00
-->
